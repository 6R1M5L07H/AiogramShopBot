# ============================================================================
# AiogramShopBot Development Configuration Template
# ============================================================================
#
# HOW TO USE:
# 1. Copy this file: cp .env.dev.template .env
# 2. Fill in all values (replace empty strings and placeholders)
# 3. Never commit .env to git (it's in .gitignore)
#
# This template is optimized for LOCAL DEVELOPMENT with:
# - Ngrok tunnel for Telegram webhooks
# - Relaxed rate limits for testing
# - Debug logging with SQL queries
# - Disabled database encryption for faster development
# - Security features disabled where appropriate
#
# For production deployment, use .env.prod.template instead.
#
# ============================================================================

# ----------------------------------------------------------------------------
# TELEGRAM BOT CONFIGURATION
# ----------------------------------------------------------------------------

# Bot API token from @BotFather
# Example: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz1234567890
TOKEN=

# Comma-separated list of Telegram user IDs with admin privileges
# Find your ID via @userinfobot
# Example: 123456789
ADMIN_ID_LIST=

# Support contact link shown to users (Telegram username or group)
# Example: https://t.me/your_username
SUPPORT_LINK=

# ----------------------------------------------------------------------------
# WEBHOOK CONFIGURATION
# ----------------------------------------------------------------------------

# Webhook path for Telegram updates
WEBHOOK_PATH=/

# Host address for the web application
# Development: Use localhost
WEBAPP_HOST=localhost

# Port for the web application
WEBAPP_PORT=5001

# Secret token for webhook authentication (generate random string)
# Development: Use simple token for debugging
# Example: dev-webhook-secret-12345
WEBHOOK_SECRET_TOKEN=

# ----------------------------------------------------------------------------
# RUNTIME ENVIRONMENT
# ----------------------------------------------------------------------------

# Runtime environment mode
# DEV: Uses ngrok tunnel for local development
RUNTIME_ENVIRONMENT=DEV

# Ngrok authentication token (REQUIRED for DEV mode)
# Get from https://dashboard.ngrok.com/get-started/your-authtoken
NGROK_TOKEN=

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------

# SQLite database filename
# Development: Use dev database to avoid corrupting production data
DB_NAME=database.dev.db

# Database encryption (disabled for faster development)
# Options: true | false
# Development: false (faster, easier to inspect with SQLite tools)
DB_ENCRYPTION=false

# Database password (not needed if DB_ENCRYPTION=false)
DB_PASS=

# ----------------------------------------------------------------------------
# REDIS CONFIGURATION
# ----------------------------------------------------------------------------

# Redis server hostname
# Development: localhost (or redis if using Docker Compose)
REDIS_HOST=localhost

# Redis authentication password
# Development: Leave empty if Redis has no password
REDIS_PASSWORD=

# ----------------------------------------------------------------------------
# BOT BEHAVIOR CONFIGURATION
# ----------------------------------------------------------------------------

# Number of items per page in paginated lists
PAGE_ENTRIES=8

# Bot language for localization
# Options: en (English) | de (German)
BOT_LANGUAGE=en

# Multi-bot mode (allows multiple bot instances)
# Development: false (single bot for testing)
MULTIBOT=false

# Fiat currency for prices
# Options: USD | EUR | GBP
CURRENCY=USD

# ----------------------------------------------------------------------------
# PAYMENT SYSTEM (KryptoExpress)
# ----------------------------------------------------------------------------

# KryptoExpress API Key
# Development: Use test/sandbox API key if available
KRYPTO_EXPRESS_API_KEY=

# KryptoExpress API URL
# Development: Use staging/test environment if available
# Production: https://kryptoexpress.pro/api
KRYPTO_EXPRESS_API_URL=https://kryptoexpress.pro/api

# KryptoExpress API Secret for webhook verification (HMAC-SHA512)
# Development: Generate with: openssl rand -hex 32
# Example: abc123def456789012345678901234567890abcdef1234567890abcdef123456
KRYPTO_EXPRESS_API_SECRET=

# ----------------------------------------------------------------------------
# ORDER & INVOICE SYSTEM
# ----------------------------------------------------------------------------

# Order timeout in minutes
# Development: Shorter timeout for faster testing
# Example: 10 (10 minutes for dev/test)
ORDER_TIMEOUT_MINUTES=10

# Grace period for free order cancellation (minutes)
# Development: Short grace period for testing
# Example: 2
ORDER_CANCEL_GRACE_PERIOD_MINUTES=2

# Payment status check interval in seconds
# Development: More frequent checks for faster feedback
# Example: 30
PAYMENT_CHECK_INTERVAL_SECONDS=30

# ----------------------------------------------------------------------------
# PAYMENT VALIDATION SYSTEM
# ----------------------------------------------------------------------------

# Overpayment tolerance percentage
PAYMENT_TOLERANCE_OVERPAYMENT_PERCENT=0.1

# Enable underpayment retry
PAYMENT_UNDERPAYMENT_RETRY_ENABLED=true

# Timeout extension for underpayment retry
PAYMENT_UNDERPAYMENT_RETRY_TIMEOUT_MINUTES=30

# Penalty percentage for second underpayment
PAYMENT_UNDERPAYMENT_PENALTY_PERCENT=5

# Penalty percentage for late payment
PAYMENT_LATE_PENALTY_PERCENT=5

# ----------------------------------------------------------------------------
# DATA RETENTION & PRIVACY
# ----------------------------------------------------------------------------

# Data retention period in days
# Development: Shorter retention to keep test database clean
# Example: 7 (7 days for dev/test)
DATA_RETENTION_DAYS=7

# Referral data retention in days
# Development: Shorter retention for testing
REFERRAL_DATA_RETENTION_DAYS=30

# ----------------------------------------------------------------------------
# SHIPPING MANAGEMENT (for physical items)
# ----------------------------------------------------------------------------

# Encryption secret for shipping addresses
# Development: Generate with: openssl rand -hex 32
# Example: 1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3
SHIPPING_ADDRESS_SECRET=

# ----------------------------------------------------------------------------
# STRIKE SYSTEM (automated penalty system)
# ----------------------------------------------------------------------------

# Maximum strikes before automatic ban
# Development: Lower limit for easier testing
# Example: 2 (faster to reach ban for testing)
MAX_STRIKES_BEFORE_BAN=3

# Exempt admins from automatic bans
# Development: true (allow admins to test without getting banned)
EXEMPT_ADMINS_FROM_BAN=true

# Minimum wallet top-up amount to unban (in EUR)
# Development: Lower amount for easier testing
# Example: 10.0
UNBAN_TOP_UP_AMOUNT=10.0

# ----------------------------------------------------------------------------
# DATABASE BACKUP CONFIGURATION
# ----------------------------------------------------------------------------

# Enable automated database backups
# Development: false (not needed for local testing)
# You can manually backup dev database if needed
DB_BACKUP_ENABLED=false

# Backup interval in hours
# Development: Less frequent backups (if enabled)
DB_BACKUP_INTERVAL_HOURS=24

# Backup retention period in days
# Development: Shorter retention
DB_BACKUP_RETENTION_DAYS=3

# Backup directory path
DB_BACKUP_PATH=./backups

# ----------------------------------------------------------------------------
# RATE LIMITING (relaxed for development)
# ----------------------------------------------------------------------------

# Maximum orders per user per hour
# Development: Relaxed limits for testing workflows
# Example: 100 (essentially unlimited for development)
MAX_ORDERS_PER_USER_PER_HOUR=100

# ----------------------------------------------------------------------------
# WEBHOOK SECURITY CONFIGURATION
# ----------------------------------------------------------------------------

# Enable security headers for webhook endpoints
# Development: false (not needed for local testing)
WEBHOOK_SECURITY_HEADERS_ENABLED=false

# Enable Content Security Policy (CSP)
# Development: false (not needed for local testing)
WEBHOOK_CSP_ENABLED=false

# Enable HTTP Strict Transport Security (HSTS)
# Development: false (using HTTP, not HTTPS)
WEBHOOK_HSTS_ENABLED=false

# CORS allowed origins
# Development: Empty (not needed)
WEBHOOK_CORS_ALLOWED_ORIGINS=

# ----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# ----------------------------------------------------------------------------

# Log level for application and SQLAlchemy
# Development: DEBUG (show all logs including SQL queries)
#
# This will show:
#   - All SQL queries for debugging
#   - Detailed execution traces
#   - Full error stack traces
#   - Payment processing details
#
# Note: More verbose logs, may impact performance slightly
LOG_LEVEL=DEBUG

# Number of days to keep rotated log files
# Development: Shorter retention to save disk space
LOG_ROTATION_DAYS=3

# Enable masking of sensitive data in logs
# Development: Can disable for easier debugging (but be careful!)
# Recommended: true (keep secrets safe even in dev)
LOG_MASK_SECRETS=true
